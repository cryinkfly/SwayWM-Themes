# =========================================
# Sway 4K Optimized Configuration
# Theme: Chameleon Grove Green
# =========================================
# This configuration is tailored for 4K displays.
# Features include:
#   - Large, readable Sway window title fonts
#   - Green-themed window frames ("Chameleon Grove Green")
#   - Large mouse cursor
#   - GTK & Qt application scaling for HiDPI
#   - Idle and power management configuration
#   - Keybindings for window management, navigation, workspaces
#   - Extensive English comments for clarity

### Variables
# -------------------------
# Super/Windows key for shortcuts -> Mod4 or Mod1 for ALT-Key
set $mod Mod4
# Vim-style navigation keys
set $left h
set $down j
set $up k
set $right l

# Preferred terminal emulator
set $term foot
# Application launcher
set $rofi_cmd rofi -terminal '$term'
set $menu $rofi_cmd -show combi -combi-modes drun#run -modes combi

### Output configuration
# -------------------------
# Default wallpaper for all outputs
output * bg $HOME/.local/share/backgrounds/origami-green-chameleon-with-dark-bg-1-4864x3328.jpg fill

# Configure primary 4K monitor
#output DP-6 mode 3840x2160@144.000Hz scale 1.0

# Disable secondary output if not used
#output DP-8 disable

### Idle Configuration
# -------------------------
# This manages automatic screen locking and power-off behavior
#exec swayidle -w \
#    timeout 300 'swaylock -f -c 000000' \       
#    timeout 600 'swaymsg "output * power off"' \ # Turn off displays after 10 minutes
#    resume 'swaymsg "output * power on"' \       # Restore display on activity
#    before-sleep 'swaylock -f -c 000000'        # Lock before suspend

### Input configuration
# -------------------------
# Basic keyboard layout for all devices
input * {
    xkb_layout "us"
    xkb_variant "altgr-intl"
    xkb_model "pc101"
}

### Keybindings
# -------------------------
# Launch terminal
bindsym $mod+Return exec $term

# Kill focused window
bindsym $mod+q kill

# Application launcher
bindsym $mod+d exec $menu

# Screenshot (Flameshot)
#bindsym $mod+Print exec flatpak run org.flameshot.Flameshot gui

# Drag/resize floating windows with mouse
floating_modifier $mod normal

# Reload configuration
bindsym $mod+Shift+c reload

# Exit Sway with confirmation
bindsym $mod+Shift+e exec swaynag -t warning -m 'Exit Sway?' -B 'Yes, exit sway' 'swaymsg exit'

# -------------------------
# Focus movement
# -------------------------
bindsym $mod+$left focus left
bindsym $mod+$down focus down
bindsym $mod+$up focus up
bindsym $mod+$right focus right
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# Move windows
bindsym $mod+Shift+$left move left
bindsym $mod+Shift+$down move down
bindsym $mod+Shift+$up move up
bindsym $mod+Shift+$right move right
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# -------------------------
# Workspaces
# -------------------------
# Switch to workspaces
bindsym $mod+1 workspace number 1
bindsym $mod+2 workspace number 2
bindsym $mod+3 workspace number 3
bindsym $mod+4 workspace number 4
bindsym $mod+5 workspace number 5
bindsym $mod+6 workspace number 6
bindsym $mod+7 workspace number 7
bindsym $mod+8 workspace number 8
bindsym $mod+9 workspace number 9
bindsym $mod+0 workspace number 10

# Move focused window to workspace
bindsym $mod+Shift+1 move container to workspace number 1
bindsym $mod+Shift+2 move container to workspace number 2
bindsym $mod+Shift+3 move container to workspace number 3
bindsym $mod+Shift+4 move container to workspace number 4
bindsym $mod+Shift+5 move container to workspace number 5
bindsym $mod+Shift+6 move container to workspace number 6
bindsym $mod+Shift+7 move container to workspace number 7
bindsym $mod+Shift+8 move container to workspace number 8
bindsym $mod+Shift+9 move container to workspace number 9
bindsym $mod+Shift+0 move container to workspace number 10

### Layout Management
# -------------------------
# Horizontal split
bindsym $mod+b splith
# Vertical split
bindsym $mod+v splitv
# Stacking layout
bindsym $mod+s layout stacking
# Tabbed layout
bindsym $mod+w layout tabbed
# Toggle split/stacked
bindsym $mod+e layout toggle split
# Fullscreen
bindsym $mod+f fullscreen
# Toggle floating
bindsym $mod+Shift+space floating toggle
# Swap tiling/floating focus
bindsym $mod+space focus mode_toggle
# Focus parent container
bindsym $mod+a focus parent

### Scratchpad
# -------------------------
# Temporarily hide windows
bindsym $mod+Shift+minus move scratchpad
bindsym $mod+minus scratchpad show

### Resize Mode
# -------------------------
mode "resize" {
    bindsym $left resize shrink width 10px
    bindsym $right resize grow width 10px
    bindsym $up resize shrink height 10px
    bindsym $down resize grow height 10px

    bindsym Left resize shrink width 10px
    bindsym Right resize grow width 10px
    bindsym Up resize shrink height 10px
    bindsym Down resize grow height 10px

    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+r mode "resize"

### Include additional configs
# -------------------------
include '$(/usr/libexec/sway/layered-include "/usr/share/sway/config.d/*.conf" "/etc/sway/config.d/*.conf" "${XDG_CONFIG_HOME:-$HOME/.config}/sway/config.d/*.conf")'

### Theme & Fonts
# -------------------------
# Window title font
font pango:FiraCode Nerd Font 16

# Cursor theme and size
seat * xcursor_theme ArcAurora-cursors 28

# -------------------------
# GTK & Qt High-DPI Scaling
# -------------------------
exec_always {
    export GDK_SCALE=2
    export GDK_DPI_SCALE=0.5
    export GTK_FONT_NAME="FiraCode Nerd Font 16"
    gsettings set org.gnome.desktop.interface color-scheme 'prefer-dark'
    gsettings set org.gnome.desktop.interface gtk-theme 'Orchis-Green-Dark'
    gsettings set org.gnome.desktop.interface icon-theme 'Colloid-Green-Dark'

    export QT_AUTO_SCREEN_SCALE_FACTOR=1
    export QT_SCALE_FACTOR=1.5
    export QT_FONT_DPI=144
}

### Window Colors â€“ Chameleon Grove Green Palette
# -------------------------
# Active window
client.focused #57886C #334d3f #FFFFFF #57886C #334d3f

# Inactive window
client.focused_inactive #334d3f #1a2a22 #CCCCCC #445c4e #1a2a22

# Visible but unfocused
client.unfocused #2a3b33 #1a2a22 #AAAAAA #3b5b4c #1a2a22

# Urgent window
client.urgent #78bfa1 #445c4e #FFFFFF #78bfa1 #334d3f

# Split container placeholders
client.placeholder #445c4e #1a2a22 #AAAAAA #445c4e #1a2a22

# Background / special tagged windows
client.background #1a2a22 #1a2a22 #888888 #1a2a22 #1a2a22
